{"data":{"site":{"siteMetadata":{"title":"Telecoms Schedule API - HIAE","docsLocation":"https://github.com/LeuAlmeida/schedule-telecoms-einstein/tree/master/content"}},"mdx":{"fields":{"id":"23fa3109-cd84-5edc-b5da-21bfc94edc95","title":"Front End","slug":"/PowerBI/front-end"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Front End\",\n  \"metaTitle\": \"front-end\",\n  \"metaDescription\": \"front-end\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Arquivo HTML.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Vari\\xE1veis.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Arquivo Javascript.\")), mdx(\"hr\", null), mdx(\"h2\", null, \"Arquivo HTML (index.html)\"), mdx(\"p\", null, \" Para esta aplica\\xE7\\xE3o usaremos a lib Jquery para facilitar o desenvolvimento:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \" <script type=\\\"text/javascript\\\" language=\\\"javascript\\\" src=\\\"https://code.jquery.com/jquery-3.3.1.js\\\"></script>\\n\")), mdx(\"p\", null, \"Agora vamos importar as libs do Power Bi\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \" <script src=\\\"https://microsoft.github.io/PowerBI-JavaScript/demo/node_modules/jquery/dist/jquery.js\\\"></script>\\n\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \" <script src=\\\"https://microsoft.github.io/PowerBI-JavaScript/demo/node_modules/powerbi-client/dist/powerbi.js\\\"></script>\\n\")), mdx(\"p\", null, \"Importe tamb\\xE9m seu arquivo .js e .css\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \" <script src=\\\"./js/Powerbi-dashboard.js\\\"></script>\\n\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \" <link href=\\\"./css/powerbi.css\\\" rel=\\\"stylesheet\\\" />\\n\")), mdx(\"p\", null, \"Insira em seu HTML uma div que servir\\xE1 de container para inserirmos o dashbosard\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-html\"\n  }), \" <div class=\\\"powerbi container\\\">\\n   <div id=\\\"embedContainer\\\"></div>\\n </div>\\n\")), mdx(\"p\", null, \"Nosso HTML j\\xE1 est\\xE1 preparado para receber o Dashboard, agora vamos configurar o noddo arquivo javascript\"), mdx(\"h2\", null, \"Vari\\xE1veis\"), mdx(\"p\", null, \"Vamos definir nossas vari\\xE1veis que utilizaremos na contru\\xE7\\xE3o do Dashboard que pegamos na doc acima na aba Powe Bi:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"const embedUrl = 'https://app.powerbi.com/reportEmbed?reportId=53bb4afb-####-####-####-####-##########&groupId=5ed877b1-####-####-####-############'\\nconst groupId = '5ed877b1-####-####-####-############'\\nconst reportId = '53bb4afb-####-####-####-####-############'\\n\")), mdx(\"h2\", null, \"Arquivo Javascript (index.js)\"), mdx(\"p\", null, \"Primeiro vamos instanciar o m\\xF3dulo do Power Bi importado no nosso HTML\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \" var models = window[\\\"powerbi-client\\\"].models;\\n var permissions = models.Permissions.All;\\n\")), mdx(\"p\", null, \"Isso nos permitir\\xE1 usarmos fun\\xE7\\xF5es da lib do Power Bi Javascript.\"), mdx(\"p\", null, \"Agora vamos montar nossas fun\\xE7\\xF5es para a renderiza\\xE7\\xE3o do Dashboard:\"), mdx(\"p\", null, \"A fun\\xE7\\xE3o abaixo vai gerar os parametros de renderiza\\xE7\\xE3o do dashboars e receber um token embedado que iremos capturar na nossa pr\\xF3xima fun\\xE7\\xE3o:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \" function mountConfigAcces(token) {\\n   const config = {\\n     type: \\\"report\\\",\\n     tokenType: models.TokenType.Embed,\\n     accessToken: token,\\n     embedUrl: embedUrl,\\n     id: reportId,\\n     permissions: permissions,\\n     settings: {\\n       layoutType: models.LayoutType.Custom,\\n       customLayout: {\\n         displayOption: models.DisplayOption.FitToWidth,\\n       },\\n     },\\n   };\\n   return config;\\n }\\n\")), mdx(\"p\", null, \"Nesta fun\\xE7\\xE3o vamos fazer a chamada para a rota do nosso back-end para pegar o token e chamar a fun\\xE7\\xE3o criada acima e colocar o token recebido como paremetro\"), mdx(\"p\", null, \"No sucesso da requisi\\xE7\\xE3o renderizaremos o nosso Dashboard.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-javascript\"\n  }), \"function getParametersDasboardAdmin() {\\n   $.ajax({\\n     async: true,\\n     crossDomain: true,\\n     url: `${backPowerBi}/powerbi/getToken`,\\n     type: \\\"GET\\\",\\n     headers: {\\n       \\\"Content-Type\\\": \\\"application/json\\\",\\n       Accept: \\\"application/json\\\",\\n     },\\n     success: (data) => {\\n       var embedContainer = $(\\\"#embedContainer\\\")[0];\\n       const configAccess = mountConfigAcces(data.token);\\n       var report = powerbi.embed(embedContainer, configAccess);\\n\\n       report.off(\\\"loaded\\\");\\n\\n       report.on(\\\"loaded\\\", function () {\\n         console.log(\\\"Loaded\\\");\\n       });\\n     },\\n     error: (err) => {\\n       console.log(\\\"error\\\", err);\\n     },\\n   });\\n }\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#arquivo-html-indexhtml","title":"Arquivo HTML (index.html)"},{"url":"#variáveis","title":"Variáveis"},{"url":"#arquivo-javascript-indexjs","title":"Arquivo Javascript (index.js)"}]},"parent":{"__typename":"File","relativePath":"PowerBI/front-end.md"},"frontmatter":{"metaTitle":"front-end","metaDescription":"front-end"}},"allMdx":{"edges":[{"node":{"fields":{"slug":"/Telecoms/boa-vista-scpc","title":"Boa Vista - SCPC"}}},{"node":{"fields":{"slug":"/Telecoms/serasa","title":"Serasa"}}},{"node":{"fields":{"slug":"/Telecoms/trans-union","title":"Trans Union"}}},{"node":{"fields":{"slug":"/Telecoms","title":"Telecoms"}}},{"node":{"fields":{"slug":"/PowerBI/front-end","title":"Front End"}}},{"node":{"fields":{"slug":"/PowerBI/introduction","title":"Introdução Power BI Javascript"}}},{"node":{"fields":{"slug":"/PowerBI","title":"Power Bi"}}},{"node":{"fields":{"slug":"/PowerBI/backend","title":"Back End"}}}]}},"pageContext":{"id":"23fa3109-cd84-5edc-b5da-21bfc94edc95"}}